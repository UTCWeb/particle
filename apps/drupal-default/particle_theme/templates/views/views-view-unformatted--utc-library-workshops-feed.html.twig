{#
/**
 * @file
 * Theme override to display a view of unformatted rows.
 *
 * Available variables:
 * - title: The title of this group of rows. May be empty.
 * - rows: A list of the view's row items.
 *   - attributes: The row's HTML attributes.
 *   - content: The row's content.
 * - view: The view object.
 * - default_row_class: A flag indicating whether default classes should be
 *   used on rows.
 *
 * @see template_preprocess_views_view_unformatted()
 */
#}
{% if title %}
  <h3>{{ title }}</h3>
{% endif %}

{% for key,row in rows %}

  {%
    set row_classes = [
      default_row_class ? 'views-row well free-faculty-workshop',
    ]
  %}
  {% set temptitle = view.style_plugin.getField(key, 'field_utc_rss_feed_item_title')|render|striptags %}
  {% set titlearray = temptitle|split(':', 2) %}
  {% if (titlearray[1] is null) or ('Event' in titlearray[0]) %}
  {% set badge = "Library Event" %}
    {% set title = titlearray[0] %}
    {% set badgecolor = "rgb(0, 56, 107)" %}
  {% else %}
    {% set badge = titlearray[0]|replace({("Free"):""}) %}
    {% set title = titlearray[1] %}
    {% set badgecolor = "rgb(120, 30, 30)" %}
    {% endif %}
<div{{ row.attributes.addClass(row_classes) }}>
  <h2 class="welltopperGold" style="font-size: 24px;">
  <a href="{{ view.style_plugin.getField(key, 'field_utc_rss_feed_item_link')|render|striptags }}" target="_blank">
    {{ title }} </a></h2>
  <div class="row-fluid">
    <div class="date date-large col-md mt-3">
      <strong>{{ view.style_plugin.getField(key, 'field_utc_rss_feed_item_datetime')|render|striptags }}</strong>
      <span>{{ view.style_plugin.getField(key, 'field_utc_rss_feed_item_datetime_1')|render|striptags }}</span>
    </div>
    <div class="nudge">
    <p class="workshopDesc">
      <img class="workshop" src="{{ view.style_plugin.getField(key, 'field_utc_rss_feed_item_img_url')|render|striptags }}" alt="decorative" />
    </p>
    {# process body content#}
    {% autoescape %}
      {{ view.style_plugin.getField(key, 'field_utc_rss_feed_item_body')|raw }}
    {% endautoescape %}
      <a class="btn btn-primary btn-block" href="{{ view.style_plugin.getField(key, 'field_utc_rss_feed_item_link')|render|striptags }}" target="_blank">
        <span><strong><i class="fa fa-ticket"></i> Register Now</strong></span>
        <span><i class="fas fa-calendar"></i>
                  {% set comparedates = view.style_plugin.getField(key, 'field_utc_rss_feed_item_datetime_4')|render|striptags %}
          {% set comparearray = comparedates|split(" ; ") %}
          {% if  comparearray[0]|trim != comparearray[1]|trim %}
          {{ view.style_plugin.getField(key, 'field_utc_rss_feed_item_datetime_5')|render|striptags }}
          {% else %}
          {{ view.style_plugin.getField(key, 'field_utc_rss_feed_item_datetime_3')|render|striptags }}</span>
        <span><i class="fas fa-clock"></i>
          {{ view.style_plugin.getField(key, 'field_utc_rss_feed_item_datetime_2')|render|striptags }}
          {% endif %}
          <span><i class="fas fa-map-marker"></i>{{ view.style_plugin.getField(key, 'field_utc_rss_feed_item_location')|render|striptags }}</span>
      </a>
    </div>
    </div></div>
{% endfor %}


